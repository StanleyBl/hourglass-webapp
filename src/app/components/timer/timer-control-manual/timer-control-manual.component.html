<mat-card>
    <mat-card-content>
      <form>
        <mat-form-field>
          <input matInput
                 [disabled]="isLoading"
                 placeholder="Task description"
                 [(ngModel)]="timeTracker.comments"
                 name="comments"
                 (keyup)="onAutoSelectLogs($event)"
                 [matAutocomplete]="auto">
          <mat-autocomplete #auto="matAutocomplete">
          <mat-option (onSelectionChange)="onSelectTimelog(log)" *ngFor="let log of selectedTimeLogs" [value]="log.comments">
            {{log.comments}}
            <span [style.color]="log.project?.color" *ngIf="log.project">
                <i class="material-icons project-info">folder</i>
                {{log?.project?.name}}</span>
          </mat-option>
        </mat-autocomplete>
        </mat-form-field>
        <mat-form-field>
            <mat-select placeholder="Select project" [(value)]="timeTracker.project_id">
              <mat-option *ngFor="let proj of projects" [value]="proj.id">
                <span [style.color]="proj?.color">{{proj.name}}</span>
              </mat-option>
            </mat-select>
        </mat-form-field>
        <mat-form-field>
            <input matInput [matDatepicker]="picker" placeholder="Choose a date" [(ngModel)]="inputDate" name="date">
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
          </mat-form-field>
          <mat-form-field>
            <input type="time" matInput placeholder="Start" [(ngModel)]="inputStart" name="start">
          </mat-form-field>
          <mat-form-field>
            <input type="time" matInput placeholder="End" [(ngModel)]="inputEnd" name="end">
          </mat-form-field>
          <mat-checkbox [(ngModel)]="timeTracker.billable"
            name="billable">Billable</mat-checkbox>
        <div>
            <button *ngIf="!isRunning"
            mat-raised-button
            color="primary"
            type="submit"
            [disabled]="isLoading"
            (click)="add()">Save</button>
        </div>
      </form>
    </mat-card-content>
  </mat-card>

